!function(e,t,n){function i(n,s){if(!t[n]){if(!e[n]){var o="function"==typeof require&&require;if(!s&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=t[n]={exports:{}};e[n][0](function(t){var r=e[n][1][t];return i(r?r:t)},u,u.exports)}return t[n].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(require,module){var Luc={};module.exports=Luc;var object=require("./object");Luc.Object=object,Luc.apply=Luc.Object.apply,Luc.mix=Luc.Object.mix;var fun=require("./function");Luc.Function=fun,Luc.emptyFn=Luc.Function.emptyFn,Luc.abstractFn=Luc.Function.abstractFn;var array=require("./array");Luc.Array=array;var EventEmitter=require("./events/eventEmitter");Luc.EventEmitter=EventEmitter;var Base=require("./class/base");Luc.Base=Base;var manager=require("./class/manager");Luc.ClassManager=manager.ClassManager,Luc.define=manager.define,"undefined"!=typeof window&&(window.Luc=Luc)},{"./function":2,"./object":3,"./array":4,"./events/eventEmitter":5,"./class/base":6,"./class/manager":7}],2:[function(require,module,exports){exports.emptyFn=function(){},exports.abstractFn=function(){throw new Error("abstractFn must be implemented")},exports.createRelayer=function(obj){var before=obj.before||exports.emptyFn,after=obj.after||exports.emptyFn,context=obj.context||this;return function(){before.apply(context,arguments),after.apply(context,arguments)}}},{}],3:[function(require,module,exports){exports.apply=function(toObject,fromObject){var prop,to=toObject||{},from=fromObject||{};for(prop in from)from.hasOwnProperty(prop)&&(to[prop]=from[prop]);return to},exports.mix=function(toObject,fromObject){var prop,to=toObject||{},from=fromObject||{};for(prop in from)from.hasOwnProperty(prop)&&"undefined"==typeof to[prop]&&(to[prop]=from[prop]);return to},exports.each=function(obj,fn,thisArg,config){var key,allProperties=config&&config.ownProperties===!1;if(allProperties)for(key in obj)fn.call(thisArg,key,obj[key]);else for(key in obj)obj.hasOwnProperty(key)&&fn.call(thisArg,key,obj[key])},exports.toObject=function(strings,values){for(var obj={},i=0,len=strings.length;len>i;++i)obj[strings[i]]=values[i];return obj},exports.filter=function(obj,filterFn,thisArg,config){var values=[];return exports.each(obj,function(key,value){filterFn.call(thisArg,key,value)&&values.push({value:value,key:key})},thisArg,config),values}},{}],4:[function(require,module,exports){function toArray(arrOrItem){return Array.isArray(arrOrItem)?arrOrItem:null===arrOrItem||"undefined"==typeof arrOrItem?[]:[arrOrItem]}function each(arrOrItem,fn,context){var arr=toArray(arrOrItem);return arr.forEach.call(arr,fn,context)}exports.toArray=toArray,exports.each=each},{}],5:[function(require,module){var EventEmitter=require("events").EventEmitter;EventEmitter.prototype.once=function(type,listener){var self=this,g=function(){self.removeListener(type,g),listener.apply(this,arguments)};return self.on(type,g),this},module.exports=EventEmitter},{events:8}],9:[function(require,module){var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){if(ev.source===window&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")}},{}],8:[function(require,module,exports){!function(process){function indexOf(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++)if(x===xs[i])return i;return-1}process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},EventEmitter.prototype.emit=function(type){if("error"===type&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var handler=this._events[type];if(!handler)return!1;if("function"==typeof handler){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}return!0}if(isArray(handler)){for(var args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),i=0,l=listeners.length;l>i;i++)listeners[i].apply(this,args);return!0}return!1},EventEmitter.prototype.addListener=function(type,listener){if("function"!=typeof listener)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",type,listener),this._events[type])if(isArray(this._events[type])){if(!this._events[type].warned){var m;m=void 0!==this._events.maxListeners?this._events.maxListeners:defaultMaxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}this._events[type].push(listener)}else this._events[type]=[this._events[type],listener];else this._events[type]=listener;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){var self=this;return self.on(type,function g(){self.removeListener(type,g),listener.apply(this,arguments)}),this},EventEmitter.prototype.removeListener=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[type])return this;var list=this._events[type];if(isArray(list)){var i=indexOf(list,listener);if(0>i)return this;list.splice(i,1),0==list.length&&delete this._events[type]}else this._events[type]===listener&&delete this._events[type];return this},EventEmitter.prototype.removeAllListeners=function(type){return 0===arguments.length?(this._events={},this):(type&&this._events&&this._events[type]&&(this._events[type]=null),this)},EventEmitter.prototype.listeners=function(type){return this._events||(this._events={}),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]}}(require("__browserify_process"))},{__browserify_process:9}],6:[function(require,module){function Base(){this.beforeInit.apply(this,arguments),this.init()}var emptyFn=require("../function").emptyFn,apply=require("../object").apply;Base.prototype={beforeInit:function(config){apply(this,config)},init:emptyFn},module.exports=Base},{"../function":2,"../object":3}],7:[function(require,module,exports){function ClassManager(){}var Base=require("./base"),Composition=require("./composition"),obj=require("../object"),arrayFns=require("../array"),aEach=arrayFns.each,apply=obj.apply,oEach=obj.each,mix=(obj.filter,obj.mix);ClassManager.prototype={defaultType:Base,define:function(opts){var Constructor,options=opts||{},Super=options.$super||this.defaultType;return options.$super=Super,Constructor=this._createConstructor(options),this._processAfterCreate(Constructor,options),Constructor},_createConstructor:function(options){var superclass=options.$super,Constructor=this._createConstructorFn(options);return Constructor.prototype=Object.create(superclass.prototype),Constructor},_createConstructorFn:function(options){var initClassOptions,superclass=options.$super;return this._hasConstructorModifyingOptions(options)?(initClassOptions=this._createInitClassOptionsFn(),function(){initClassOptions.call(this,options),superclass.apply(this,arguments)}):function(){superclass.apply(this,arguments)}},_createInitClassOptionsFn:function(){var me=this;return function(options){options.$compositions&&me._initCompositions.call(this,options)}},_initCompositions:function(options){var compositions=options.$compositions;this.compositions={},aEach(compositions,function(compositionConfig){var composition=new Composition(compositionConfig);this.compositions[composition.name]=composition.getInstance(this)},this)},_hasConstructorModifyingOptions:function(options){return options.$compositions},postProcessorKeys:{$mixins:"_applyMixins",$statics:"_applyStatics",$emitterMix:"_mixEmitter",$compositions:"_compose"},_getProcessorKey:function(key){return this.postProcessorKeys[key]},_processAfterCreate:function($class,options){this._applyValuesToProto($class,options),this._handlePostProcessors($class,options)},_applyValuesToProto:function($class,options){var proto=$class.prototype,Super=options.$super,values=apply({$superclass:Super.prototype,$class:$class},options);oEach(values,function(key,value){this._getProcessorKey(key)||(proto[key]=value)},this)},_handlePostProcessors:function($class,options){oEach(options,function(key){var method=this._getProcessorKey(key);method&&this[method].call(this,$class,options[key])},this)},_applyMixins:function($class,mixins){var proto=$class.prototype;aEach(mixins,function(mixin){var toMix=mixin.prototype||mixin;mix(proto,toMix)})},_applyStatics:function($class,statics){apply($class,statics)},_compose:function($class,compositions){var methodsToCompose,prototype=$class.prototype;aEach(compositions,function(compositionConfig){var composition=new Composition(compositionConfig),name=composition.name;composition.Constructor,composition.validate(),methodsToCompose=composition.getMethodsToCompose(),methodsToCompose.forEach(function(key){prototype[key]=this._createComposerProtoFn(key,name)},this)},this)},_createComposerProtoFn:function(methodName,compositionName){return function(){var comp=this.compositions[compositionName];return comp[methodName].apply(comp,arguments)}}};var Manager=new ClassManager;exports.define=function(){return Manager.define.apply(Manager,arguments)},exports.ClassManager=ClassManager},{"./base":6,"./composition":10,"../object":3,"../array":4}],10:[function(require,module){function Composition(config){apply(this,config)}var obj=require("../object"),apply=obj.apply,oFilter=obj.filter;Composition.prototype={create:function(instance,Constructor){return new Constructor},getInstance:function(instance){return this.create(instance,this.Constructor)},validate:function(){if("undefined"==typeof this.name)throw new Error("A name must be defined");if("function"!=typeof this.Constructor)throw new Error("The Constructor must be function")},filterKeys:function(key,value){return"function"==typeof value},getMethodsToCompose:function(){var pairsToAdd=oFilter(this.Constructor.prototype,this.filterKeys,this,{ownProperties:!1});return pairsToAdd.map(function(pair){return pair.key})}},module.exports=Composition},{"../object":3}]},{},[1]);